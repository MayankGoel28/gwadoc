<article class="relation">
  <h3 id="{{ id }}">{{ rel.name }} (<a href="#{{ id }}">{{ rel_id(id) }}</a>)</h3>
  <div class="description">
    {% if rel.df -%}
    <span class="short definition">"{{ rel.df }}"</span>
    {%- endif %}
    <table class="fieldlist">
      {% if rel.name.symbol -%}
      <tr><th>symbol</th><td>{{ rel.name.symbol }}</td></tr>
      {%- endif %}
      {% if rel.form.reverse -%}
      <tr><th>reverse</th><td>{{ rel_id(rel.form.reverse) }}</td></tr>
      {%- endif %}
      {% if rel.ex -%}
      <tr><th>example</th><td>{{ rel.ex | render_rst }}</td></tr>
      {% endif %}
    </table>
    {% if rel.dfn -%}
    <h4>Definition</h4>
    {{ rel.dfn | render_rst }}
    {%- endif %}
    {% if rel.exe -%}
    <h4>Examples</h4>
    {{ rel.exe | render_rst }}
    {%- endif %}
    {% if rel.test -%}
    <h4>Tests</h4>
    {{ rel.test | render_rst }}
    {%- endif %}
    {% if rel.com -%}
    <h4>Comments</h4>
    {{ rel.com | render_rst }}
    {%- endif %}
    <h4>Project-specific Names</h4>
    {% if rel.proj -%}
    <table>
      <thead>
        <tr><th>Project</th><th>Name/Symbol</th></tr>
      </thead>
      <tbody>
        {% for proj in gwadoc.PROJECTS if rel.proj[proj] -%}
        <tr>
          <td>{{ gwadoc.PROJECTS[proj] }}</td>
          <td>
            {% set sym = rel.proj[proj] -%}
            {% if sym and proj == "ili" -%}
            {{ ili(sym) }}
            {%- elif sym -%}
            {{ sym }}
            {%- endif -%}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No project names defined.</p>
    {% endif %}
  </div>
</article>
